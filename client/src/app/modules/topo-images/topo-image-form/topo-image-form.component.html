<ng-container *transloco="let t, read: 'topoImage.topoImageForm'">

    <div class="content">

        <p-card header="{{t('addTopoImageTitle')}}">
            <p class="mt-0">
                {{t('addTopoImageDescription')}}
            </p>

            <form [formGroup]="topoImageForm" lcForm>

                <div class="flex flex-column gap-2" lcControlGroup>
                    <lc-single-image-upload lcFormControl formControlName="image" data-cy="topo-image-input"></lc-single-image-upload>
                    <small class="p-error" *lcIfError="'required'">{{t('required')}}</small>
                </div>

              <div class="flex flex-column gap-2" lcControlGroup>
                <label class="form-label">{{t('topoImageTitleLabel')}}</label>
                <input type="text" pInputText formControlName="title" placeholder="{{t('topoImageTitlePlaceholder')}}"
                       lcFormControl data-cy="topo-image-form-name-title"/>
              </div>

              <div class="flex flex-column gap-2" lcControlGroup>
                <label class="form-label">{{t('topoImageDescriptionLabel')}}</label>
                <p-editor formControlName="description" lcFormControl placeholder="{{t('topoImageDescriptionPlaceholder')}}"
                          [style]="{ height: '200px' }" [readonly]="loadingState === loadingStates.INITIAL_LOADING"
                          data-cy="topo-image-form-description">
                  <ng-template pTemplate="header">
              <span class="ql-formats">
                  <button type="button" class="ql-bold" aria-label="Bold"></button>
                  <button type="button" class="ql-italic" aria-label="Italic"></button>
                  <button type="button" class="ql-underline" aria-label="Underline"></button>
              </span>
                    <span class="ql-formats">
                  <button type="button" class="ql-link" aria-label="Link"></button>
              </span>
                  </ng-template>
                </p-editor>
              </div>

              <div class="flex flex-column gap-2" lcControlGroup>
                <label class="form-label">{{t('latLabel')}}</label>
                <input type="text" pInputText formControlName="lat" placeholder="{{t('latPlaceholder')}}"
                       lcFormControl  data-cy="topo-image-form-lat"/>
                <small class="p-error" *lcIfError="'invalidLat'">{{t('invalidLat')}}</small>
              </div>

              <div class="flex flex-column gap-2" lcControlGroup>
                <label class="form-label">{{t('lngLabel')}}</label>
                <input type="text" pInputText formControlName="lng" placeholder="{{t('lngPlaceholder')}}"
                       lcFormControl  data-cy="topo-image-form-lng"/>
                <small class="p-error" *lcIfError="'invalidLng'">{{t('invalidLng')}}</small>
              </div>

            </form>

            <div class="form-actions">
                <p-button label="{{t('addTopoImageButtonLabel')}}" (click)="saveTopoImage()" icon="pi pi-save"
                          class="responsive-button" data-cy="submit"
                          [loading]="loadingState === loadingStates.LOADING" ></p-button>
                <p-button label="{{t('cancelButtonLabel')}}" (click)="cancel()" class="ml-3 responsive-button"
                          styleClass="p-button-secondary" icon="pi pi-ban"></p-button>
            </div>

        </p-card>

    </div>

</ng-container>
