<div class="content">
  <p-card header="{{ crag?.name }}">
    <div class="flex gap-1">
      @if (crag?.closed) {
        <lc-closed-spot-tag></lc-closed-spot-tag>
      }
      @if (crag?.secret) {
        <lc-secret-spot-tag></lc-secret-spot-tag>
      }
    </div>
    @if (crag?.slug !== environment.skippedSlug) {
      <p-breadcrumb
        class="max-w-full"
        [model]="breadcrumbs"
        [home]="breadcrumbHome"
      ></p-breadcrumb>
    }

    @if (crag) {
      <p-tabs
        [value]="tabsDirective.activeTabIndex()"
        scrollable
        lcSetActiveTab
        #tabsDirective="lcSetActiveTab"
        [items]="items"
        >
        <p-tablist>
          @for (tab of items; track $index) {
            @if (tab.visible) {
              <p-tab
                [value]="$index"
                [routerLink]="tab.routerLink"
                >
                <i [class]="tab.icon" style="font-size: 1rem"></i>
                {{ tab.label }}
              </p-tab>
            }
          }
        </p-tablist>
      </p-tabs>
    }

    <router-outlet name="cragContent"></router-outlet>
  </p-card>
</div>
